@model Wish_Box.ViewModels.RegisterModel
@{
    ViewData["Title"] = "Регистрация";
}
    <div class="modal-content sign-up-window" id="modelcontentregister">        
        <div class="modal-header">
            <h2 style="margin-left:auto; margin-right:auto;">Регистрация</h2>
        </div>
        <div class="modal-body">
            <form asp-action="Register" asp-controller="Account" asp-anti-forgery="true"
                  method="post" enctype="multipart/form-data" id="registerform">
                <div class="text-danger" asp-validation-summary="ModelOnly"> </div>
                <div>
                    <div class="form-group">
                        <label asp-for="Login"><strong>Введите логин</strong></label><br />
                        <input type="text" class="form-control" asp-for="Login" />
                        <span asp-validation-for="Login" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="dayOfBirth"><strong>Введите дату рождения</strong></label><br />
                        <input type="date" class="form-control" asp-for="dayOfBirth" />
                        <span asp-validation-for="dayOfBirth" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Country"><strong>Введите страну</strong></label><br />
                        <input type="text" class="form-control" asp-for="Country" />
                        <span asp-validation-for="Country" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="City"><strong>Введите город</strong></label><br />
                        <input type="text" class="form-control" asp-for="City" />
                        <span asp-validation-for="City" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Password"><strong>Введите пароль</strong></label><br />
                        <label class="text-info">Пароль должен содержать латинские заглавные и прописные буквы, а также цифры. Минимальное кол-во символов - 5</label><br />
                        <input type="password" class="form-control" asp-for="Password" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="ConfirmPassword"><strong>Повторите пароль</strong></label><br />
                        <input type="password" class="form-control" asp-for="ConfirmPassword" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                    <div>
                        <input name="Avatar" type="file" class="form-control" />
                    </div>
                    <div>
                        <input class="btn btn-outline-success sign-up-btn" type="submit" value="Регистрация" id="finish_register" name="finish_register" />
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


<script type="text/javascript">
    $(function () {
        $.ajaxSetup({ cache: false });

        $("#finish_register").click(function (e) {
            console.log("ajax register start");
            e.preventDefault();
            $.ajax({
                url: "@Url.Action("Register", "Account")",
                type: "POST",
                data: $('#registerform').serialize(),
                success: function (result) {
                    $('#modelcontentregister').replaceWith(result);
                },
                error: function (xhr, status, error) {
                    console.log("register_error");
                }
            });
            return false;
        });
    })
<script>

    finish_register.onclick = function (event) {
        ym(62193592, 'reachGoal', 'finish_register');
    }
</script>
